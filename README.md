# Система учёта книг в библиотеке

## Описание проекта
Полнофункциональная система для автоматизации работы библиотеки с разделением ролей для читателей и библиотекарей. Включает полный цикл работы с книгами: от поиска и бронирования до управления каталогом и статистики.

## Основной функционал

### Для читателей:
- Авторизация по номеру читательского билета и паролю
- Поиск книг по названию, автору, жанру, ISBN
- Просмотр каталога с информацией о доступности
- Просмотр текущих выдач и бронирований
- Мониторинг штрафов

### Для библиотекарей:
- Авторизация по логину и паролю
- Добавление новых книг в каталог
- Просмотр и управление всеми книгами
- Просмотр списка читателей и их статусов
- Просмотр активных выдач с информацией о просрочках
- Управление бронированиями
- Просмотр штрафов
- Статистика библиотеки

## Пользователи системы

### Читатель (Reader)
- Поиск и просмотр книг
- Просмотр текущих выдач
- Просмотр бронирований
- Просмотр штрафов

### Библиотекарь (Librarian)
- Управление книгами (добавление)
- Просмотр всех книг и читателей
- Мониторинг активных выдач
- Управление бронированиями
- Просмотр статистики библиотеки

## Технологии
- Python 3.x
- SQLite - встраиваемая СУБД
- Git & GitHub - система контроля версий

## Установка и запуск

1. Клонируйте репозиторий:
```bash
git clone https://github.com/EmAnto0/InfProject.git
cd InfProject
```
2. Перейдите в папку с исходным кодом:
```bash
cd src
```
3. Запустите систему:
```bash
python main.py
```

## Тестовые данные для входа

### Читатели:
1. Номер карты: R001, Пароль: pass1 (Иванов Иван)
2. Номер карты: R002, Пароль: pass2 (Петрова Мария)

### Библиотекари:
1. Логин: librarian1, Пароль: 12345
2. Логин: librarian2, Пароль: 54321

## Структура проекта
```text
InfProject/
├── .gitignore
├── README.md
├── requirements.txt
├── src/
│   ├── main.py                 # Главный файл системы
│   ├── database.py            # Модуль работы с базой данных
│   ├── models.py              # Модели данных
│   ├── data_access.py         # Data Access Layer
│   ├── reader_interface.py    # Интерфейс читателя
│   ├── librarian_interface.py # Интерфейс библиотекаря
│   ├── lab5_export.py         # Экспорт данных для лабы №5
│   └── reset_database.py      # Сброс базы данных
├── docs/
│   ├── diagrams/
│   │   ├── reader_do.puml
│   │   └── librarian_do.puml
│   └── images/
│       ├── reader_do.png
│       └── librarian_do.png
└── out/                       # Папка для экспортированных данных
    ├── data.json
    ├── data.csv
    ├── data.xml
    └── data.yaml
```

## База данных

### Основные сущности:
- Книги (books) - информация о книгах (название, автор, ISBN, жанр, количество экземпляров)
- Читатели (readers) - зарегистрированные пользователи библиотеки
- Библиотекари (librarians) - сотрудники библиотеки
- Выдачи (loans) - записи о выдаче книг читателям
- Бронирования (reservations) - резервирование книг
- Штрафы (fines) - система штрафов за просрочки и потери

### Схема базы данных:
```sql
-- Читатели
CREATE TABLE readers (
    reader_id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    card_number TEXT UNIQUE NOT NULL,
    contact TEXT,
    password TEXT NOT NULL,
    status BOOLEAN DEFAULT 1
);

-- Библиотекари  
CREATE TABLE librarians (
    librarian_id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    username TEXT UNIQUE NOT NULL,
    password TEXT NOT NULL
);

-- Книги
CREATE TABLE books (
    book_id INTEGER PRIMARY KEY AUTOINCREMENT,
    title TEXT NOT NULL,
    author TEXT NOT NULL,
    isbn TEXT UNIQUE,
    year INTEGER,
    publisher TEXT,
    genre TEXT,
    description TEXT,
    total_copies INTEGER DEFAULT 1,
    available_copies INTEGER DEFAULT 1
);
```

## Функциональные возможности

### Процесс выдачи книги
1. Авторизация читателя
2. Поиск и выбор книги
3. Проверка доступности
4. Создание записи о выдаче

### Процесс добавления новой книги
1. Авторизация библиотекаря
2. Ввод библиографических данных
3. Указание количества экземпляров
4. Сохранение в базу данных

## Экспорт
Для экспорта данных в форматы JSON, CSV, XML, YAML:
```bash
cd src
python lab5_export.py
```
Программа создаст в папке out/ файлы:
- data.json - данные в формате JSON
- data.csv - данные в формате CSV
- data.xml - данные в формате XML
- data.yaml - данные в формате YAML

## Разработка

### Архитектура:
- Модульная структура - каждый компонент в отдельном файле
- DAO-паттерн - изоляция доступа к данным
- Чистая архитектура - разделение интерфейсов и бизнес-логики

## Лицензия
Проект разработан в учебных целях. Свободное использование и модификация разрешены.

